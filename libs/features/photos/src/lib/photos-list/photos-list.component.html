<div class="photos-list-container" (scroll)="onScroll($event)">
  @if (photos().length > 0) {
    <cdk-virtual-scroll-viewport
      [itemSize]="itemSize"
      class="virtual-scroll-viewport">
      <lib-photo-grid-with-favorites
        [photos]="photos()"
        (photoClick)="onPhotoClick($event)" />
    </cdk-virtual-scroll-viewport>
  }

  @if (isLoading()) {
    <lib-loading-spinner />
  }

  @if (!isLoading() && photos().length === 0) {
    <div class="empty-state">
      <p>No photos available</p>
    </div>
  }
</div>

@if (selectedPhoto()) {
  <lib-image-preview-modal
    [photo]="selectedPhoto()!"
    (close)="onClosePreview()"
    (toggleFavorite)="onToggleFavorite()" />
}
